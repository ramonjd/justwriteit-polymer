<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">

<polymer-element name="typewriter-textarea" attributes="words">
  <template>
    <link rel="stylesheet" href="typewriter-textarea.css">
    <paper-input multiline id="typewriterTextarea" label="Start writing!" on-keyup={{setWordCount}} rows="200"></paper-input>
  </template>
  <script>
    (function () {
      'use strict';

      var wordCount = 0;
      Polymer('typewriter-textarea', {

        textAreaValue : '',

        ready: function() {
          //this.$.typewriterTextarea.focus();
        },

        getWordCount : function(){
          return wordCount;
        },

        setWordCount : function(){
          wordCount = (this.$.typewriterTextarea.inputValue.length > 0) ? this.$.typewriterTextarea.inputValue.match(/\S+/g).length : 0
          this.fire('word-count', {words: wordCount});
        }

      });

    })();
  </script>
</polymer-element>
